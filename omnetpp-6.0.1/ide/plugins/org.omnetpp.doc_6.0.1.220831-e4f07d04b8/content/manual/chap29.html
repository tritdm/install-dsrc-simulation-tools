<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta name="copyright" content="OpenSim Ltd.">
  <meta NAME="Author" CONTENT="Andras Varga">
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="STYLESHEET" href="../book.css"  type="text/css">
  <title>OMNeT++ - Simulation Manual</title>
</head>
<style type="text/css">
  hr.pgbr { color: #f5f5f5; margin-top: 40px; margin-bottom: 10px; }
  ul.dl { padding-left: 30px; text-indent: -30px; list-style: none; }
  pre { margin: 4px 8px 4px 2px; padding: 8px 10px; background:#fffff4; border: 1px solid #dddddd; }
  pre.ned { background:#f5fff5; border-left: 4px solid #ccffcc; }
  pre.msg { background:#f5fff5; border-left: 4px solid #ccffcc; }
  pre.cpp { background:#f5f5f5; border-left: 4px solid #ccccff; }
  pre.inifile { background:#fffff0; border-left: 4px solid #e5e533; }
  pre.filelisting { background:#f0f0f0; border-left: 4px solid #d9d9d9; }
  pre.xml { background:#fff0f0; border-left: 4px solid #ffa0a0; }
  pre.commandline { background:#fffff0; border-left: 4px solid #606060; }
  td,th { text-align:left; vertical-align:top; border:1px solid; padding:3pt; border-color:#000000; }
  div.caption { margin-top: 10px; }
  a[href] { color: #202080; text-decoration: none; }
  a:visited { text-decoration: none; }
  # a:hover { text-decoration: underline; }

  table.matrix { display:inline-block; vertical-align: middle; position: relative; border: 0px; background:#ffffff; margin-left:8pt; margin-right:8pt; }
  table.matrix:before, table.matrix:after { content: ""; position: absolute; top: 0; border: 1px solid #000; width: 6px; height: 100%; }
  table.matrix:before { left: -6px; border-right: 0px; }
  table.matrix:after { right: -6px; border-left: 0px; }
  table.matrix td { padding: 5px; text-align: center; border: 0px; }

  a.headerlink { visibility: hidden; }
</style>
<body>

<p><hr><b><a href="chap28.html">[Prev]</A>&nbsp;<a href="chap30.html">[Next]</A>&nbsp;<a href="toc.html#toc_29.">[TOC]</a>&nbsp;<a href="usman.html">[Chapters]</a></b><hr></p><h1><a name="cha:eventlog-file-format"/>29 Appendix K&#58; Eventlog File Format<a class="headerlink" href="#cha:eventlog-file-format" title="Permalink to this headline">¶</a></h1>

<p>This appendix documents the format of the eventlog file. Eventlog
files are written by the simulation (when enabled). Everything
that happens during the simulation is recorded into the file,
  <br><ul><font size=-1>[With certain granularity of course, and subject to
  filters that were active during simulation]</font></ul>
so the file can later be used to reproduce the history of the
simulation on a sequence chart, or in some other form.

<p>The file is a line-oriented text file. Blank lines and lines beginning
with "#" (comments) will be ignored. Other lines begin with an
<i>entry identifier</i> like <tt>E</tt> for <i>Event</i> or
<tt>BS</tt> for <i>BeginSend</i>, followed by <i>attribute-identifier</i>
and <i>value</i> pairs. One exception is debug output
(recorded from <tt>EV&lt;&lt;...</tt> statements), which are represented
by lines that begin with a hyphen, and continue with the actual text.

<p>The grammar of the eventlog file is the following:

<pre class="verbatim">
&lt;file&gt; ::= &lt;line&gt;*
&lt;line&gt; ::= &lt;empty-line&gt; | &lt;user-log-message&gt; | &lt;event-log-entry&gt;
&lt;empty-line&gt; ::= CR LF
&lt;user-log-message&gt; ::= - SPACE &lt;text&gt; CR LF
&lt;event-log-entry&gt; ::= &lt;event-log-entry-type&gt; SPACE &lt;parameters&gt; CR LF
&lt;event-log-entry-type&gt; ::= SB | SE | BU | MB | ME | MC | MD | MR | GC | GD |
                           CC | CD | CS | MS | CE | BS | ES | SD | SH | DM | E
&lt;parameters&gt; ::= (&lt;parameter&gt;)*
&lt;parameter&gt; ::= &lt;name&gt; SPACE &lt;value&gt;
&lt;name&gt; ::= &lt;text&gt;
&lt;value&gt; ::= &lt;boolean&gt; | &lt;integer&gt; | &lt;text&gt; | &lt;quoted-text&gt;
</pre>
<p>
The eventlog file must also fulfill the following requirements:
<ul>
   <li> simulation events are in increasing event number and simulation time order
</ul>

<p>Here is a fragment of an existing eventlog file as an example:

<pre class="filelisting">
E # 14 t 1.018454036455 m 8 ce 9 msg 6
BS id 6 tid 6 c <a href="../api/classomnetpp_1_1cMessage.html">cMessage</a> n send/endTx pe 14
ES t 4.840247053855
MS id 8 d t=TRANSMIT,,#808000;i=device/pc_s
MS id 8 d t=,,#808000;i=device/pc_s

E # 15 t 1.025727827674 m 2 ce 13 msg 25
- another frame arrived while receiving -- collision!
CE id 0 pe 12
BS id 0 tid 0 c <a href="../api/classomnetpp_1_1cMessage.html">cMessage</a> n end-reception pe 15
ES t 1.12489449434
BU id 2 txt "Collision! (3 frames)"
DM id 25 pe 15
</pre>
<p>
<h2><a name="sec:eventlog-file-format:entry-types"/>29.1 Supported Entry Types and Their Attributes<a class="headerlink" href="#sec:eventlog-file-format:entry-types" title="Permalink to this headline">¶</a></h2>

<p>The following entries and attributes are supported in the eventlog file:


<p><b>SB</b> <i>(SimulationBegin)</i>: mandatory first line of the eventlog file, followed by an empty line

<p><ul>
  <li> <b>ov</b> (<i>omnetppVersion</i>, int): OMNeT++ version, e.g. 0x0401 (=1025) is release 4.1
  <li> <b>ev</b> (<i>eventlogVersion</i>, int): eventlog version number
  <li> <b>rid</b> (<i>runId</i>, string): identifies the simulation run
</ul>

<p><b>SE</b> <i>(SimulationEnd)</i>: optional last non-empty line of the eventlog file, followed by an empty line

<p><ul>
  <li> <b>e</b> (<i>isError</i>, bool): specifies if the simulation terminated due to an error
  <li> <b>c</b> (<i>resultCode</i>, int): the error code in case of an error, otherwise the normal result code
  <li> <b>m</b> (<i>message</i>, string): human readable description
</ul>

<p><b>E</b> <i>(Event)</i>: an event that is processing a message, terminated by an empty line

<p><ul>
  <li> <b>#</b> (<i>eventNumber</i>, eventnumber_t): unique event number
  <li> <b>t</b> (<i>simulationTime</i>, simtime_t): simulation time when the event occurred
  <li> <b>m</b> (<i>moduleId</i>, int): id of the processing module
  <li> <b>ce</b> (<i>causeEventNumber</i>, eventnumber_t): event number from which the message being processed was sent, or -1 if the message was sent from initialize
  <li> <b>msg</b> (<i>messageId</i>, msgid_t): id of the message being processed
  <li> <b>f</b> (<i>fingerprints</i>, string): current simulation fingerprints
</ul>

<p><b>S</b> <i>(Snapshot)</i>: a snapshot of the current simulation state, followed by state entries, and terminated by an emtpy line

<p><ul>
  <li> <b>f</b> (<i>fileOffset</i>, int64_t): file offset of this entry
  <li> <b>#</b> (<i>eventNumber</i>, eventnumber_t): event number of the last processed event
  <li> <b>t</b> (<i>simulationTime</i>, simtime_t): simulation time of the last processed event
</ul>

<p><b>I</b> <i>(Index)</i>: incremental snapshot specifying additional and removed entries with an event number and a line index, followed by an empty line

<p><ul>
  <li> <b>f</b> (<i>fileOffset</i>, int64_t): file offset of this entry
  <li> <b>i</b> (<i>previousIndexFileOffset</i>, int64_t): file offset of the previous index entry
  <li> <b>s</b> (<i>previousSnapshotFileOffset</i>, int64_t): file offset of the previous snapshot entry
  <li> <b>#</b> (<i>eventNumber</i>, eventnumber_t): event number of the last processed event
  <li> <b>t</b> (<i>simulationTime</i>, simtime_t): simulation time of the last processed event
</ul>

<p><b>abstract</b> <i>(Reference)</i>: base class for index entry references

<p><ul>
  <li> <b>#</b> (<i>eventNumber</i>, eventnumber_t): event number of the last referred event
  <li> <b>b</b> (<i>beginEntryIndex</i>, int): begin index of the referred entry within the event
  <li> <b>e</b> (<i>endEntryIndex</i>, int): end index of the referred entry within the event
</ul>

<p><b>RF</b> <i>(ReferenceFound)</i>: specifies an eventlog entry found in the snapshot

<p><ul>
  <li> no parameters
</ul>

<p><b>RA</b> <i>(ReferenceAdded)</i>: specifies an eventlog entry added to the index

<p><ul>
  <li> no parameters
</ul>

<p><b>RR</b> <i>(ReferenceRemoved)</i>: specifies an eventlog entry removed from the index

<p><ul>
  <li> no parameters
</ul>

<p><b>abstract</b> <i>(ModuleReference)</i>: base class for entries referring to a module

<p><ul>
  <li> <b>id</b> (<i>moduleId</i>, int): id of the module
</ul>

<p><b>abstract</b> <i>(GateReference)</i>: base class for entries referring to a gate

<p><ul>
  <li> <b>m</b> (<i>moduleId</i>, int): id of module where the gate is
  <li> <b>g</b> (<i>gateId</i>, int): id of the gate
</ul>

<p><b>abstract</b> <i>(ConnectionReference)</i>: base class for entries referring to a connection

<p><ul>
  <li> <b>sm</b> (<i>sourceModuleId</i>, int): id of the source module identifying the connection
  <li> <b>sg</b> (<i>sourceGateId</i>, int): id of the gate at the source module identifying the connection
</ul>

<p><b>abstract</b> <i>(MessageReference)</i>: base class for entries referring to a message

<p><ul>
  <li> <b>id</b> (<i>messageId</i>, msgid_t): id of the message
</ul>

<p><b>abstract</b> <i>(ModuleDescription)</i>: base class for entries describing a module

<p><ul>
  <li> <b>c</b> (<i>moduleClassName</i>, string): C++ class name of the module
  <li> <b>t</b> (<i>nedTypeName</i>, string): fully qualified NED type name
  <li> <b>pid</b> (<i>parentModuleId</i>, int): id of the parent module
  <li> <b>n</b> (<i>fullName</i>, string): full dotted hierarchical module name
  <li> <b>cm</b> (<i>compoundModule</i>, bool): whether module is a simple or compound module
</ul>

<p><b>abstract</b> <i>(GateDescription)</i>: base class for entries describing a gate

<p><ul>
  <li> <b>n</b> (<i>name</i>, string): gate name
  <li> <b>i</b> (<i>index</i>, int): gate index if vector, -1 otherwise
  <li> <b>o</b> (<i>isOutput</i>, bool): whether the gate is input or output
</ul>

<p><b>abstract</b> <i>(ConnectionDescription)</i>: base class for entries describing a connection

<p><ul>
  <li> <b>dm</b> (<i>destModuleId</i>, int): id of the destination module
  <li> <b>dg</b> (<i>destGateId</i>, int): id of the gate at the destination module
</ul>

<p><b>abstract</b> <i>(MessageDescription)</i>: base class for entries describing a message

<p><ul>
  <li> <b>tid</b> (<i>messageTreeId</i>, msgid_t): id of the message inherited by dup
  <li> <b>eid</b> (<i>messageEncapsulationId</i>, msgid_t): id of the message inherited by encapsulation
  <li> <b>etid</b> (<i>messageEncapsulationTreeId</i>, msgid_t): id of the message inherited by both dup and encapsulation
  <li> <b>c</b> (<i>messageClassName</i>, string): C++ class name of the message
  <li> <b>n</b> (<i>messageName</i>, string): message name
  <li> <b>k</b> (<i>messageKind</i>, short): message kind
  <li> <b>p</b> (<i>messagePriority</i>, short): message priority
  <li> <b>l</b> (<i>messageLength</i>, int64_t): message length in bits
  <li> <b>er</b> (<i>hasBitError</i>, bool): true indicates that the message has bit errors
  <li> <b>m</b> (<i>ownerModuleId</i>, int): id of the owner module where the message was found or -1 (FES)
  <li> <b>sm</b> (<i>senderModuleId</i>, int): id of the source module where the message was sent from
  <li> <b>sg</b> (<i>senderGateId</i>, int): id of the gate at the source module from which the message is being sent
  <li> <b>st</b> (<i>sendingTime</i>, simtime_t): simulation time when the message was sent
  <li> <b>am</b> (<i>arrivalModuleId</i>, int): id of the destination module where the message was sent to
  <li> <b>ag</b> (<i>arrivalGateId</i>, int): id of the gate at the source module from which the message is being sent
  <li> <b>at</b> (<i>arrivalTime</i>, simtime_t): simulation time when the message will arrive
  <li> <b>d</b> (<i>detail</i>, string): detailed information of message content when recording message data is turned on
  <li> <b>pe</b> (<i>previousEventNumber</i>, eventnumber_t): event number from which the message being cloned was sent, or -1 if the message was sent from initialize
</ul>

<p><b>abstract</b> <i>(ModuleDisplayString)</i>: base class for entries describing a module display string

<p><ul>
  <li> <b>d</b> (<i>displayString</i>, string): the new display string
</ul>

<p><b>abstract</b> <i>(GateDisplayString)</i>: base class for entries describing a gate display string

<p><ul>
  <li> <b>d</b> (<i>displayString</i>, string): the new display string
</ul>

<p><b>abstract</b> <i>(ConnectionDisplayString)</i>: base class for entries describing a connection display string

<p><ul>
  <li> <b>d</b> (<i>displayString</i>, string): the new display string
</ul>

<p><b>abstract</b> <i>(MessageDisplayString)</i>: base class for entries describing a message display string

<p><ul>
  <li> <b>d</b> (<i>displayString</i>, string): the new display string
</ul>

<p><b>CMB</b> <i>(ComponentMethodBegin)</i>: beginning of a call to another module

<p><ul>
  <li> <b>sm</b> (<i>sourceComponentId</i>, int): id of the caller component
  <li> <b>tm</b> (<i>targetComponentId</i>, int): id of the component being called
  <li> <b>m</b> (<i>methodName</i>, string): C++ method name
</ul>

<p><b>CME</b> <i>(ComponentMethodEnd)</i>: end of a call to another component

<p><ul>
  <li> no parameters
</ul>

<p><b>MC</b> <i>(ModuleCreated)</i>: creating a module

<p><ul>
  <li> no parameters
</ul>

<p><b>MD</b> <i>(ModuleDeleted)</i>: deleting a module

<p><ul>
  <li> no parameters
</ul>

<p><b>GC</b> <i>(GateCreated)</i>: creating a gate

<p><ul>
  <li> no parameters
</ul>

<p><b>GD</b> <i>(GateDeleted)</i>: deleting a gate

<p><ul>
  <li> no parameters
</ul>

<p><b>CC</b> <i>(ConnectionCreated)</i>: creating a connection

<p><ul>
  <li> no parameters
</ul>

<p><b>CD</b> <i>(ConnectionDeleted)</i>: deleting a connection

<p><ul>
  <li> no parameters
</ul>

<p><b>MDC</b> <i>(ModuleDisplayStringChanged)</i>: a module display string change

<p><ul>
  <li> no parameters
</ul>

<p><b>GDC</b> <i>(GateDisplayStringChanged)</i>: a gate display string change

<p><ul>
  <li> no parameters
</ul>

<p><b>CDC</b> <i>(ConnectionDisplayStringChanged)</i>: a connection display string change

<p><ul>
  <li> no parameters
</ul>

<p><b>EDC</b> <i>(MessageDisplayStringChanged)</i>: a message display string change

<p><ul>
  <li> no parameters
</ul>

<p><b>CM</b> <i>(CreateMessage)</i>: creating a message

<p><ul>
  <li> no parameters
</ul>

<p><b>CL</b> <i>(CloneMessage)</i>: cloning a message either via the copy constructor or by dup

<p><ul>
  <li> <b>cid</b> (<i>cloneId</i>, msgid_t): id of the original message that is cloned
</ul>

<p><b>DM</b> <i>(DeleteMessage)</i>: deleting a message

<p><ul>
  <li> no parameters
</ul>

<p><b>EN</b> <i>(EncapsulatePacket)</i>: encapsulating a packet

<p><ul>
  <li> <b>cid</b> (<i>encapsulatedPacketId</i>, msgid_t): id of the encapsulated packet
</ul>

<p><b>DE</b> <i>(DecapsulatePacket)</i>: decapsulating a packet

<p><ul>
  <li> <b>cid</b> (<i>encapsulatedPacketId</i>, msgid_t): id of the encapsulated packet
</ul>

<p><b>BS</b> <i>(BeginSend)</i>: beginning to send a message

<p><ul>
  <li> <b>sd</b> (<i>sendDelay</i>, simtime_t): send after this delay
  <li> <b>up</b> (<i>isUpdate</i>, bool): whether this is a transmission update
  <li> <b>tx</b> (<i>transmissionId</i>, txid_t): for pairing transmission updates with the original transmission
</ul>

<p><b>ES</b> <i>(EndSend)</i>: prediction of the arrival of a message, only a message reference because can't be alone

<p><ul>
  <li> <b>i</b> (<i>isDeliveredImmediately</i>, bool): true indicates the message is delivered
</ul>

<p><b>SD</b> <i>(SendDirect)</i>: sending a message directly to a destination gate

<p><ul>
  <li> <b>sm</b> (<i>senderModuleId</i>, int): id of the source module from which the message is being sent
  <li> <b>dm</b> (<i>destModuleId</i>, int): id of the destination module to which the message is being sent
  <li> <b>dg</b> (<i>destGateId</i>, int): id of the gate at the destination module to which the message is being sent
  <li> <b>pd</b> (<i>propagationDelay</i>, simtime_t): propagation delay as the message is propagated through the connection
  <li> <b>td</b> (<i>transmissionDelay</i>, simtime_t): transmission duration as the whole message is sent from the source gate
  <li> <b>rd</b> (<i>remainingDuration</i>, simtime_t): remaining transmission time (if packet is a tx update)
</ul>

<p><b>SH</b> <i>(SendHop)</i>: sending a message through a connection identified by its source module and gate id

<p><ul>
  <li> <b>sm</b> (<i>senderModuleId</i>, int): id of the source module from which the message is being sent
  <li> <b>sg</b> (<i>senderGateId</i>, int): id of the gate at the source module from which the message is being sent
  <li> <b>pd</b> (<i>propagationDelay</i>, simtime_t): propagation delay as the message is propagated through the connection
  <li> <b>td</b> (<i>transmissionDelay</i>, simtime_t): transmission duration as the whole message is sent from the source gate
  <li> <b>rd</b> (<i>remainingDuration</i>, simtime_t): remaining transmission time (if packet is a tx update)
  <li> <b>d</b> (<i>discard</i>, bool): whether the channel has discarded the message
</ul>

<p><b>CE</b> <i>(CancelEvent)</i>: canceling an event caused by sending a self message

<p><ul>
  <li> no parameters
</ul>

<p><b>MF</b> <i>(ModuleFound)</i>: a module found in the simulation while traversing the modules (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the module created entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the module created entry
</ul>

<p><b>GF</b> <i>(GateFound)</i>: a gate found in the simulation while traversing the modules (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the gate created entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the gate created entry
</ul>

<p><b>CF</b> <i>(ConnectionFound)</i>: a connection found in the simulation while traversing the modules (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the connection created entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the connection created entry
</ul>

<p><b>EF</b> <i>(MessageFound)</i>: a message found in the future event queue (FES) or while traversing the modules (used in snapshots)

<p><ul>
  <li> no parameters
</ul>

<p><b>MDF</b> <i>(ModuleDisplayStringFound)</i>: a module display string found (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the module display string changed entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the module display string changed entry
</ul>

<p><b>GDF</b> <i>(GateDisplayStringFound)</i>: a gate display string found (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the gate display string changed entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the gate display string changed entry
</ul>

<p><b>CDF</b> <i>(ConnectionDisplayStringFound)</i>: a connection display string found (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the connection display string changed entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the connection display string changed entry
</ul>

<p><b>EDF</b> <i>(MessageDisplayStringFound)</i>: a message display string found (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the message display string changed entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the message display string changed entry
</ul>

<p><b>BU</b> <i>(Bubble)</i>: display a bubble message

<p><ul>
  <li> <b>id</b> (<i>moduleId</i>, int): id of the module which printed the bubble message
  <li> <b>txt</b> (<i>text</i>, string): displayed message text
</ul>

<p><b>abstract</b> <i>(CustomReference)</i>: custom data reference provided by OMNeT users

<p><ul>
  <li> <b>t</b> (<i>type</i>, string): user specified unique type
  <li> <b>k</b> (<i>key</i>, long): unique key that links custom entries together
</ul>

<p><b>abstract</b> <i>(CustomDescription)</i>: custom data provided by OMNeT users

<p><ul>
  <li> <b>c</b> (<i>content</i>, string): user specified content (text, CSV, XML, JSON, etc.)
</ul>

<p><b>CUC</b> <i>(CustomCreated)</i>: created a custom data object

<p><ul>
  <li> no parameters
</ul>

<p><b>CUD</b> <i>(CustomDeleted)</i>: deleted a custom data object

<p><ul>
  <li> no parameters
</ul>

<p><b>CUM</b> <i>(CustomChanged)</i>: changed a custom data object

<p><ul>
  <li> no parameters
</ul>

<p><b>CUF</b> <i>(CustomFound)</i>: found a custom data object (used in snapshots)

<p><ul>
  <li> <b>#</b> (<i>lastSeenEventNumber</i>, eventnumber_t): event number of the corresponding created entry
  <li> <b>ei</b> (<i>lastSeenEntryIndex</i>, int): index of the corresponding created begin entry
</ul>

<p><b>CU</b> <i>(Custom)</i>: custom data provided by OMNeT users

<p><ul>
  <li> no parameters
</ul>

<hr class='pgbr'><p><hr><b><a href="chap28.html">[Prev]</A>&nbsp;<a href="chap30.html">[Next]</A>&nbsp;<a href="toc.html#toc_29.">[TOC]</a>&nbsp;<a href="usman.html">[Chapters]</a></b><hr></p>

</body>
</html>
